---
title: "Final Project"
author: "Ambar Flores, Amna Malik "
date: "Data 2401"
output: slidy_presentation
---




```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r,echo=FALSE }
library(tidyverse) 
library(ggplot2) 
library(lubridate)
```


```{r,echo=FALSE }
airline <- read.csv("Airlines Reviews and Rating.csv")
head(airline)
```
## **Introduction**
[Link to Airline Reviews and ratings](https://www.kaggle.com/datasets/anandshaw2001/airlines-reviews-and-rating)

Hate not having a knowledge how you're flight never has any info to help you make a decision base on you and your budget, wish it was much simpler to decided if you want a late flight vs a morning flight and if it is worth it? In our presentation we are trying to show the difference between business class, economy class, and premium economy class.By the rating, reviews, and also the experience of the flights.The data I have chosen "Airlines Reviews and rating" from Kaggle and the data created by Anandshaw.


<img src="C:/Users/ambar/OneDrive/Desktop/Data 2401/finalproject/Featured-Image-Airline-Flights.jpg" alt="Planes" style="width: 50%; height: auto;">

----

## **Questions**

1. Which airline has the best customer service?
2. How many Planes are Boeing planes? and what percentage are they to the flights?
3.Who has better cabin crew, and ground service business class, economy,premium economy, or first class?
4. What is the difference between Economy, Business class, Premium Economy, and First Class for food & beverage, WiFi, in flight entertainment?
5. which top 20 flights have the best value for your money?
6.what percentage of flights are recommended? 
7.

---

**1. Which airline has the best customer service?**

```{r, echo=FALSE}
best_customer_service <- airline %>%
  group_by(Country) %>%
  summarize(averagecustomerservice = mean(Cabin.Staff.Service, na.rm = TRUE)) %>%
  arrange(desc(averagecustomerservice))

ggplot(best_customer_service, aes(x = reorder(Country, -averagecustomerservice), y = averagecustomerservice)) +
  geom_bar(stat = "identity", fill = "skyblue") +
  labs(title = "Average Customer Service Rating by Country",
       x = "Country",
       y = "Average Customer Service Rating") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))  
```


---

**2. How many Planes are Boeing planes? and what percentage are they to the flights?**

```{r,echo=FALSE }

boeing_planes <- airline %>%
  filter(str_detect(Aircraft.Type, "Boeing"))

n_boeing_planes <- nrow(boeing_planes)

total_flights <- 3290  

percentage_boeing_planes <- (n_boeing_planes / total_flights) * 100

pie_data <- data.frame(Category = c("Boeing Planes", "Other Planes"),
                       Percentage = c(percentage_boeing_planes, 100 - percentage_boeing_planes))

pie_chart <- ggplot(pie_data, aes(x = "", y = Percentage, fill = Category)) +
  geom_bar(stat = "identity", width = 1) +
  coord_polar("y", start = 0) +
  scale_fill_manual(values = c("Boeing Planes" = "red", "Other Planes" = "blue")) +
  labs(title = "Percentage of Boeing Planes to Total Flights",
       fill = "Category",
       caption = paste0("Boeing Planes: ", round(percentage_boeing_planes, 2), "%",
                       "\nOther Planes: ", round(100 - percentage_boeing_planes, 2), "%")) +
  theme_void() +
  theme(legend.position = "bottom")

#I know you dont like pie chart but i still have it for the laughs


bar_chart <- ggplot(pie_data, aes(x = Category, y = Percentage, fill = Category)) +
  geom_bar(stat = "identity") +
  geom_text(aes(label = paste0(round(Percentage, 2), "%")), vjust = -0.5) +
  scale_fill_manual(values = c("Boeing Planes" = "red", "Other Planes" = "blue")) +
  labs(title = "Percentage of Boeing Planes to Total Flights",
       x = NULL,
       y = "Percentage",
       fill = "Category",
       caption = paste0("Boeing Planes: ", round(percentage_boeing_planes, 2), "%",
                       "\nOther Planes: ", round(100 - percentage_boeing_planes, 2), "%")) +
  theme_minimal()

print(bar_chart)

```

---


**3. Who has better cabin crew, and ground service business class, economy,premium economy, or first class?**

```{r,echo=FALSE }
business_class <- airline %>%
  filter(Seat_Types == "Business Class")

avg_ratings_business <- business_class %>%
  summarize(
    cabin_staff_service = mean(Cabin.Staff.Service, na.rm = TRUE),
    ground_service = mean(Ground.Service, na.rm = TRUE)
  )

economy_class <- airline %>%
  filter(Seat_Types == "Economy Class")

avg_ratings_economy <- economy_class %>%
  summarize(
    cabin_staff_service = mean(Cabin.Staff.Service, na.rm = TRUE),
    ground_service = mean(Ground.Service, na.rm = TRUE)
  )

first_class <- airline %>%
  filter(Seat_Types == "First Class")

avg_ratings_first <- first_class %>%
  summarize(
    cabin_staff_service = mean(Cabin.Staff.Service, na.rm = TRUE),
    ground_service = mean(Ground.Service, na.rm = TRUE)
  )

premium_economy <- airline %>%
  filter(Seat_Types == "Premium Economy")

avg_ratings_premium <- premium_economy %>%
  summarize(
    cabin_staff_service = mean(Cabin.Staff.Service, na.rm = TRUE),
    ground_service = mean(Ground.Service, na.rm = TRUE)
  )

avg_ratings_all <- rbind(avg_ratings_business, avg_ratings_economy, avg_ratings_first, avg_ratings_premium)
avg_ratings_all$class <- c("Business Class", "Economy Class", "First Class", "Premium Economy")

avg_ratings_long <- tidyr::gather(avg_ratings_all, key = "amenity", value = "rating", -class)

ggplot(avg_ratings_long, aes(x = amenity, y = rating, fill = class)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(
    title = "Average Ratings of Amenities by Class",
    x = "Amenity",
    y = "Average Rating",
    fill = "Class"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

---


**4. What is the difference between Economy, Business class, Premium Economy, and First Class for food & beverage, WiFi, in flight entertainment?**

```{r,echo=FALSE }


# Calculate average ratings for each amenity
avg_ratings_economy <- economy_class %>%
  summarize(
    Seat.Comfort = mean(Seat.Comfort, na.rm = TRUE),
    Food...Beverages = mean(Food...Beverages, na.rm = TRUE),
    Wifi...Connectivity = mean(Wifi...Connectivity, na.rm = TRUE),
   Inflight.Entertainment = mean(Inflight.Entertainment, na.rm = TRUE)
  )

avg_ratings_premium_economy <- premium_economy %>%
  summarize(
   Seat.Comfort = mean(Seat.Comfort, na.rm = TRUE),
    Food...Beverages = mean(Food...Beverages, na.rm = TRUE),
    Wifi...Connectivity = mean(Wifi...Connectivity, na.rm = TRUE),
   Inflight.Entertainment = mean(Inflight.Entertainment, na.rm = TRUE)
  )

avg_ratings_business <- business_class %>%
  summarize(
   Seat.Comfort = mean(Seat.Comfort, na.rm = TRUE),
    Food...Beverages = mean(Food...Beverages, na.rm = TRUE),
    Wifi...Connectivity = mean(Wifi...Connectivity, na.rm = TRUE),
   Inflight.Entertainment = mean(Inflight.Entertainment, na.rm = TRUE)
  )

avg_ratings_first <- first_class %>%
  summarize(
    Seat.Comfort = mean(Seat.Comfort, na.rm = TRUE),
    Food...Beverages = mean(Food...Beverages, na.rm = TRUE),
    Wifi...Connectivity = mean(Wifi...Connectivity, na.rm = TRUE),
   Inflight.Entertainment = mean(Inflight.Entertainment, na.rm = TRUE)
  )

avg_ratings_all <- rbind(avg_ratings_economy, avg_ratings_premium_economy, avg_ratings_business, avg_ratings_first)
avg_ratings_all$class <- c("Economy Class", "Premium Economy", "Business Class", "First Class")

avg_ratings_long <- tidyr::gather(avg_ratings_all, key = "amenity", value = "rating", -class)


ggplot(avg_ratings_long, aes(x = amenity, y = rating, fill = class)) +
  geom_bar(stat = "identity", position = "dodge") +
  labs(
    title = "Comparison of Amenities by Class",
    x = "Amenity",
    y = "Average Rating",
    fill = "Class"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

---

**5. which top 20 flights have the best value for your money?**

```{r, echo=FALSE}


# Calculate average value for money for each route
avg_value_for_money <- airline %>%
  group_by(Route) %>%
  summarize(avg_value = mean(Value.For.Money, na.rm = TRUE)) %>%
  arrange(desc(avg_value))

# Filter the top 10 routes
top_10_routes <- head(avg_value_for_money, 20)

# Plot the results using a bar graph
ggplot(top_10_routes, aes(x = reorder(Route, avg_value), y = avg_value)) +
  geom_bar(stat = "identity", fill = "darkblue") +
  labs(
    title = "Top 20 Routes with the Best Value for Money",
    x = "Route",
    y = "Average Value for Money"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))



```


---

**6.what percentage of flights are recommended? **


```{r,echo=FALSE}

# Count the number of flights recommended with "Yes"
recommended_flights <- airline %>%
  filter(Recommended == "yes") 

# Calculate the percentile
total_flights <- nrow(airline)
percentile <- round((nrow(recommended_flights) / total_flights) * 100, 2)

# Create a data frame
flight_data <- data.frame(Recommendation = c("Recommended", "Not Recommended"), 
                           Percentage = c(percentile, 100 - percentile))

# Plot the bar graph
ggplot(flight_data, aes(x = Recommendation, y = Percentage, fill = Recommendation)) +
  geom_bar(stat = "identity") +
  labs(
    title = "Percentage of Recommended Flights vs. Others",
    x = "Recommendation",
    y = "Percentage of Flights",
    fill = "Recommendation"
  ) +
  geom_text(aes(label = paste0(Percentage, "%")), vjust = -0.5) +
  theme_minimal()







```

---


